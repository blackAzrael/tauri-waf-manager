<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WAF配置管理器</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.4.0/vue.global.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script type="module" src="/main.js" defer></script>


    <style>
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }

        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }

        .slide-up-enter-active, .slide-up-leave-active {
            transition: all 0.3s ease;
        }

        .slide-up-enter-from, .slide-up-leave-to {
            opacity: 0;
            transform: translateY(10px);
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
<div id="app" class="min-h-screen">
    <!--    {{msg}}-->
    <!-- 顶部导航栏 -->
    <nav class="bg-white shadow-lg border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <i class="fas fa-shield-alt text-blue-600 text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold text-gray-800">WAF配置管理器</h1>
                    <span class="ml-3 text-sm text-gray-500">Tauri 2.x</span>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <div class="h-3 w-3 rounded-full mr-2"
                             :class="serverStatus.running ? 'bg-green-500' : 'bg-red-500'"></div>
                        <span class="text-sm font-medium"
                              :class="serverStatus.running ? 'text-green-600' : 'text-red-600'">
                                {{ serverStatus.running ? '运行中' : '已停止' }}
                            </span>
                    </div>
                    <button
                            @click="serverStatus.running ? stopServer() : startServer()"
                            :class="serverStatus.running ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'"
                            class="px-4 py-2 text-white rounded-lg transition-colors duration-200 flex items-center"
                    >
                        <i :class="serverStatus.running ? 'fas fa-stop' : 'fas fa-play'" class="mr-2"></i>
                        {{ serverStatus.running ? '停止服务器' : '启动服务器' }}
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区域 -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <!-- 状态卡片 -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                <div class="flex items-center">
                    <div class="p-2 bg-blue-100 rounded-lg">
                        <i class="fas fa-server text-blue-600"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-600">服务状态</p>
                        <p class="text-2xl font-bold text-gray-900">{{ serverStatus.running ? '运行中' : '已停止' }}</p>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                <div class="flex items-center">
                    <div class="p-2 bg-green-100 rounded-lg">
                        <i class="fas fa-check-circle text-green-600"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-600">已处理请求</p>
                        <p class="text-2xl font-bold text-gray-900">
                            {{ serverStatus.requests_processed?.toLocaleString() || 0 }}</p>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                <div class="flex items-center">
                    <div class="p-2 bg-red-100 rounded-lg">
                        <i class="fas fa-ban text-red-600"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-600">被阻止请求</p>
                        <p class="text-2xl font-bold text-gray-900">
                            {{ serverStatus.blocked_requests?.toLocaleString() || 0 }}</p>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                <div class="flex items-center">
                    <div class="p-2 bg-yellow-100 rounded-lg">
                        <i class="fas fa-clock text-yellow-600"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-600">运行时间</p>
                        <p class="text-2xl font-bold text-gray-900">{{ formatUptime(serverStatus.uptime_seconds) }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 标签页导航 -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-6">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8 px-6">
                    <button
                            v-for="tab in tabs"
                            :key="tab.id"
                            @click="activeTab = tab.id"
                            :class="activeTab === tab.id ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200"
                    >
                        <i :class="tab.icon" class="mr-2"></i>
                        {{ tab.name }}
                    </button>
                </nav>
            </div>

            <!-- 标签页内容 -->
            <div class="p-6">
                <!-- 服务器配置 -->
                <div v-if="activeTab === 'server'" class="space-y-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">服务器配置</h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">监听端口</label>
                            <input
                                    v-model.number="config.server.listen_port"
                                    type="number"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">后端主机</label>
                            <input
                                    v-model="config.server.backend_host"
                                    type="text"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">后端端口</label>
                            <input
                                    v-model.number="config.server.backend_port"
                                    type="number"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">工作线程数</label>
                            <input
                                    v-model.number="config.server.workers"
                                    type="number"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                        </div>
                    </div>

                    <div class="flex items-center">
                        <input
                                v-model="config.server.enable_ssl"
                                type="checkbox"
                                id="enable_ssl"
                                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                        >
                        <label for="enable_ssl" class="ml-2 block text-sm text-gray-700">启用SSL</label>
                    </div>

                    <div class="flex justify-between items-center">
                        <button
                                @click="testConnection"
                                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"
                                :disabled="testing"
                        >
                            <i class="fas fa-plug mr-2"></i>
                            {{ testing ? '测试中...' : '测试后端连接' }}
                        </button>
                        <button
                                @click="saveConfig"
                                class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200"
                        >
                            <i class="fas fa-save mr-2"></i>
                            保存配置
                        </button>
                    </div>
                </div>

                <!-- 安全规则 -->
                <div v-if="activeTab === 'security'" class="space-y-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">安全规则配置</h3>

                    <!-- IP黑名单 -->
                    <div>
                        <h4 class="text-md font-medium text-gray-800 mb-3">IP黑名单</h4>
                        <div class="flex mb-3">
                            <input
                                    v-model="newBlockedIp"
                                    placeholder="输入要阻止的IP地址"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <button
                                    @click="addBlockedIp"
                                    class="px-4 py-2 bg-red-600 text-white rounded-r-lg hover:bg-red-700"
                            >
                                添加
                            </button>
                        </div>
                        <div class="space-y-2">
                            <div
                                    v-for="(ip, index) in config.security.blocked_ips"
                                    :key="index"
                                    class="flex items-center justify-between bg-red-50 px-3 py-2 rounded-lg"
                            >
                                <span class="text-sm text-gray-700">{{ ip }}</span>
                                <button
                                        @click="removeBlockedIp(index)"
                                        class="text-red-600 hover:text-red-800"
                                >
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 自定义规则 -->
                    <div>
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-md font-medium text-gray-800">自定义安全规则</h4>
                            <button
                                    @click="showAddRuleModal = true"
                                    class="px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm"
                            >
                                <i class="fas fa-plus mr-1"></i>
                                添加规则
                            </button>
                        </div>
                        <div class="space-y-3">
                            <div
                                    v-for="rule in config.security.custom_rules"
                                    :key="rule.id"
                                    class="bg-gray-50 p-4 rounded-lg"
                            >
                                <div class="flex justify-between items-start">
                                    <div class="flex-1">
                                        <h5 class="font-medium text-gray-900">{{ rule.name }}</h5>
                                        <p class="text-sm text-gray-600 mt-1 font-mono">{{ rule.pattern }}</p>
                                        <div class="flex items-center mt-2 space-x-4">
                                                <span class="text-xs px-2 py-1 rounded"
                                                      :class="rule.action === 'block' ? 'bg-red-100 text-red-800' : rule.action === 'allow' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'">
                                                    {{ rule.action.toUpperCase() }}
                                                </span>
                                            <span class="text-xs px-2 py-1 rounded"
                                                  :class="rule.enabled ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'">
                                                    {{ rule.enabled ? '启用' : '禁用' }}
                                                </span>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button
                                                @click="toggleRule(rule.id)"
                                                class="text-blue-600 hover:text-blue-800 text-sm"
                                        >
                                            {{ rule.enabled ? '禁用' : '启用' }}
                                        </button>
                                        <button
                                                @click="removeCustomRule(rule.id)"
                                                class="text-red-600 hover:text-red-800 text-sm"
                                        >
                                            删除
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 日志查看 -->
                <div v-if="activeTab === 'logs'" class="space-y-6">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">系统日志</h3>
                        <button
                                @click="refreshLogs"
                                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"
                        >
                            <i class="fas fa-refresh mr-2"></i>
                            刷新日志
                        </button>
                    </div>
                    <div class="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-96 overflow-y-auto">
                        <div v-for="(log, index) in logs" :key="index" class="mb-1">
                            {{ log }}
                        </div>
                        <div v-if="logs.length === 0" class="text-gray-500">
                            暂无日志记录
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加规则模态框 -->
    <!--    <div v-if="showAddRuleModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">-->
    <!--        <div class="bg-white rounded-xl shadow-xl max-w-md w-full mx-4">-->
    <!--            <div class="p-6">-->
    <!--                <h3 class="text-lg font-semibold text-gray-900 mb-4">添加自定义规则</h3>-->

    <!--                <div class="space-y-4">-->
    <!--                    <div>-->
    <!--                        <label class="block text-sm font-medium text-gray-700 mb-2">规则名称</label>-->
    <!--                        <input-->
    <!--                                v-model="newRule.name"-->
    <!--                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"-->
    <!--                                placeholder="输入规则名称"-->
    <!--                        >-->
    <!--                    </div>-->
    <!--                    <div>-->
    <!--                        <label class="block text-sm font-medium text-gray-700 mb-2">正则表达式模式</label>-->
    <!--                        <input-->
    <!--                                v-model="newRule.pattern"-->
    <!--                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"-->
    <!--                                placeholder="输入正则表达式"-->
    <!--                        >-->
    <!--                    </div>-->
    <!--                    <div>-->
    <!--                        <label class="block text-sm font-medium text-gray-700 mb-2">执行动作</label>-->
    <!--                        <select-->
    <!--                                v-model="newRule.action"-->
    <!--                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"-->
    <!--                        >-->
    <!--                            <option value="block">阻止</option>-->
    <!--                            <option value="allow">允许</option>-->
    <!--                            <option value="log">仅记录</option>-->
    <!--                        </select>-->
    <!--                    </div>-->
    <!--                    <div class="flex items-center">-->
    <!--                        <input-->
    <!--                                v-model="newRule.enabled"-->
    <!--                                type="checkbox"-->
    <!--                                id="rule_enabled"-->
    <!--                                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"-->
    <!--                        >-->
    <!--                        <label for="rule_enabled" class="ml-2 block text-sm text-gray-700">启用此规则</label>-->
    <!--                    </div>-->
    <!--                </div>-->

    <!--                <div class="flex justify-end space-x-3 mt-6">-->
    <!--                    <button-->
    <!--                            @click="showAddRuleModal = false"-->
    <!--                            class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300"-->
    <!--                    >-->
    <!--                        取消-->
    <!--                    </button>-->
    <!--                    <button-->
    <!--                            @click="addCustomRule"-->
    <!--                            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"-->
    <!--                    >-->
    <!--                        添加规则-->
    <!--                    </button>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->

    <!-- 通知消息 -->
    <div v-if="notification.show" class="fixed top-4 right-4 z-50">
        <div :class="getNotificationClass(notification.type)" class="px-4 py-3 rounded-lg shadow-lg max-w-sm">
            <div class="flex items-center">
                <i :class="getNotificationIcon(notification.type)" class="mr-2"></i>
                <span>{{ notification.message }}</span>
            </div>
        </div>
    </div>
</div>

<script type="module">
    // Tauri 2.x API 导入
    // import { invoke } from "@tauri-apps/api/core";

    // 开发环境下的模拟API（生产环境会使用真实的Tauri API）
    const mockInvoke = async (command, args = {}) => {
        console.log(`[DEV] Mock Tauri command: ${command}`, args);

        // 模拟响应
        switch (command) {
            case 'get_config':
                return {
                    server: {
                        listen_port: 6188,
                        backend_host: "127.0.0.1",
                        backend_port: 8080,
                        workers: 4,
                        enable_ssl: false,
                        ssl_cert_path: null,
                        ssl_key_path: null
                    },
                    security: {
                        blocked_ips: ["192.168.1.100"],
                        blocked_countries: [],
                        whitelist_ips: ["127.0.0.1"],
                        sql_injection_rules: [],
                        xss_rules: [],
                        custom_rules: [
                            {
                                id: "1",
                                name: "SQL注入检测",
                                pattern: "(?i)(union|select|insert|update|delete)",
                                action: "block",
                                enabled: true
                            }
                        ],
                        max_request_size: 10000000,
                        enable_geo_blocking: false
                    },
                    rate_limiting: {
                        enabled: true,
                        requests_per_minute: 100,
                        burst_size: 10,
                        whitelist_ips: ["127.0.0.1"]
                    },
                    logging: {
                        level: "info",
                        file_path: "waf.log",
                        max_file_size: 100000000,
                        enable_access_log: true,
                        enable_security_log: true
                    }
                };
            case 'get_server_status':
                return {
                    running: false,
                    start_time: null,
                    requests_processed: 1250,
                    blocked_requests: 45,
                    uptime_seconds: 3600
                };
            case 'get_logs':
                return [
                    '[2024-08-29 10:30:15] INFO: WAF服务器启动',
                    '[2024-08-29 10:30:20] WARN: 检测到可疑IP: 192.168.1.100',
                    '[2024-08-29 10:30:25] INFO: 阻止了SQL注入攻击尝试',
                    '[2024-08-29 10:30:30] INFO: 请求通过WAF检查'
                ];
            case 'test_backend_connection':
                await new Promise(resolve => setTimeout(resolve, 1000));
                return Math.random() > 0.3; // 70%成功率
            default:
                return true;
        }
    };


    const apiInvoke = window.__TAURI__ ? window.invoke : mockInvoke;

    // const apiInvoke = mockInvoke;

    const {createApp} = Vue;

    createApp({
        data() {
            return {
                activeTab: 'server',
                config: {
                    server: {
                        listen_port: 6188,
                        backend_host: "127.0.0.1",
                        backend_port: 8080,
                        workers: 4,
                        enable_ssl: false,
                        ssl_cert_path: null,
                        ssl_key_path: null
                    },
                    security: {
                        blocked_ips: ["192.168.1.100"],
                        blocked_countries: [],
                        whitelist_ips: ["127.0.0.1"],
                        sql_injection_rules: [],
                        xss_rules: [],
                        custom_rules: [
                            {
                                id: "1",
                                name: "SQL注入检测",
                                pattern: "(?i)(union|select|insert|update|delete)",
                                action: "block",
                                enabled: true
                            }
                        ],
                        max_request_size: 10000000,
                        enable_geo_blocking: false
                    },
                },
                serverStatus: {},
                logs: [],
                testing: false,
                showAddRuleModal: false,
                newBlockedIp: '',
                newRule: {
                    name: '',
                    pattern: '',
                    action: 'block',
                    enabled: true
                },
                notification: {
                    show: false,
                    message: '',
                    type: 'info'
                },
                tabs: [
                    { id: 'server', name: '服务器配置', icon: 'fas fa-server' },
                    { id: 'security', name: '安全规则', icon: 'fas fa-shield-alt' },
                    { id: 'logs', name: '系统日志', icon: 'fas fa-file-alt' }
                ]
            };
        },
        async mounted() {
            console.log(this.config)
            await this.loadConfig();
            await this.loadServerStatus();
            await this.loadLogs();

            // 定期更新服务器状态
            setInterval(() => {
                this.loadServerStatus();
            }, 5000);
        },
        methods: {
            async loadConfig() {
                try {
                    this.config = await apiInvoke('get_config');
                    console.log(this.config)
                    console.error("1111111111111111111111111")
                } catch (error) {
                    console.error('加载配置失败:', error);
                    this.showNotification('加载配置失败: ' + error, 'error');
                }
            },
            async loadServerStatus() {
                try {
                    this.serverStatus = await apiInvoke('get_server_status');
                } catch (error) {
                    console.error('加载服务器状态失败:', error);
                }
            },
            async loadLogs() {
                try {
                    this.logs = await apiInvoke('get_logs');
                } catch (error) {
                    console.error('加载日志失败:', error);
                }
            },
            async saveConfig() {
                try {
                    await apiInvoke('save_config', this.config);
                    this.showNotification('配置保存成功', 'success');
                } catch (error) {
                    this.showNotification('配置保存失败: ' + error, 'error');
                }
            },
            async startServer() {
                try {
                    console.log("start_server 111111111111111")
                    await apiInvoke('start_server');
                    this.showNotification('服务器启动成功', 'success');
                    await this.loadServerStatus();
                } catch (error) {
                    this.showNotification('服务器启动失败: ' + error, 'error');
                }
            },
            async stopServer() {
                try {
                    await apiInvoke('stop_server');
                    this.showNotification('服务器已停止', 'info');
                    await this.loadServerStatus();
                } catch (error) {
                    this.showNotification('服务器停止失败: ' + error, 'error');
                }
            },
            async testConnection() {
                this.testing = true;
                try {
                    const result = await apiInvoke('test_backend_connection', {
                        host: this.config.server.backend_host,
                        port: this.config.server.backend_port
                    });
                    if (result) {
                        this.showNotification('后端连接测试成功', 'success');
                    } else {
                        this.showNotification('后端连接测试失败', 'error');
                    }
                } catch (error) {
                    this.showNotification('后端连接测试失败: ' + error, 'error');
                }
                this.testing = false;
            },
            addBlockedIp() {
                if (this.newBlockedIp && !this.config.security.blocked_ips.includes(this.newBlockedIp)) {
                    this.config.security.blocked_ips.push(this.newBlockedIp);
                    this.newBlockedIp = '';
                    this.showNotification('IP已添加到黑名单', 'success');
                }
            },
            removeBlockedIp(index) {
                this.config.security.blocked_ips.splice(index, 1);
                this.showNotification('IP已从黑名单移除', 'success');
            },
            async addCustomRule() {
                if (!this.newRule.name || !this.newRule.pattern) {
                    this.showNotification('请填写完整的规则信息', 'warning');
                    return;
                }

                try {
                    // 验证正则表达式
                    await apiInvoke('validate_regex', { pattern: this.newRule.pattern });

                    const rule = {
                        ...this.newRule,
                        id: Date.now().toString()
                    };

                    await apiInvoke('add_custom_rule', { rule });
                    this.config.security.custom_rules.push(rule);

                    // 重置表单
                    this.newRule = {
                        name: '',
                        pattern: '',
                        action: 'block',
                        enabled: true
                    };
                    this.showAddRuleModal = false;
                    this.showNotification('自定义规则添加成功', 'success');
                } catch (error) {
                    this.showNotification('添加规则失败: ' + error, 'error');
                }
            },
            async removeCustomRule(ruleId) {
                try {
                    await apiInvoke('remove_custom_rule', { rule_id: ruleId });
                    this.config.security.custom_rules = this.config.security.custom_rules.filter(rule => rule.id !== ruleId);
                    this.showNotification('规则删除成功', 'success');
                } catch (error) {
                    this.showNotification('删除规则失败: ' + error, 'error');
                }
            },
            toggleRule(ruleId) {
                const rule = this.config.security.custom_rules.find(r => r.id === ruleId);
                if (rule) {
                    rule.enabled = !rule.enabled;
                    this.showNotification(`规则已${rule.enabled ? '启用' : '禁用'}`, 'info');
                }
            },
            async refreshLogs() {
                await this.loadLogs();
                this.showNotification('日志已刷新', 'info');
            },
            formatUptime(seconds) {
                if (!seconds) return '0分钟';
                const hours = Math.floor(seconds / 3600);
                const minutes = Math.floor((seconds % 3600) / 60);

                if (hours > 0) {
                    return `${hours}小时${minutes}分钟`;
                }
                return `${minutes}分钟`;
            },
            showNotification(message, type = 'info') {
                this.notification = {
                    show: true,
                    message,
                    type
                };

                setTimeout(() => {
                    this.notification.show = false;
                }, 3000);
            },
            getNotificationClass(type) {
                const baseClass = 'flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg';
                const typeClasses = {
                    success: 'bg-green-100 text-green-800 border border-green-200',
                    error: 'bg-red-100 text-red-800 border border-red-200',
                    warning: 'bg-yellow-100 text-yellow-800 border border-yellow-200',
                    info: 'bg-blue-100 text-blue-800 border border-blue-200'
                };
                return `${baseClass} ${typeClasses[type] || typeClasses.info}`;
            },
            getNotificationIcon(type) {
                const icons = {
                    success: 'fas fa-check-circle',
                    error: 'fas fa-exclamation-circle',
                    warning: 'fas fa-exclamation-triangle',
                    info: 'fas fa-info-circle'
                };
                return icons[type] || icons.info;
            }
        }
    }).mount('#app');
</script>
</body>
</html>